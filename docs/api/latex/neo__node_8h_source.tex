\doxysection{neo\+\_\+node.\+h}
\hypertarget{neo__node_8h_source}{}\label{neo__node_8h_source}\index{include/neo/node/neo\_node.h@{include/neo/node/neo\_node.h}}
\mbox{\hyperlink{neo__node_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <atomic>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <thread>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{comment}{//\ Neo\ Core\ Components}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{consensus__service_8h}{neo/consensus/consensus\_service.h}}>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{blockchain_8h}{neo/ledger/blockchain.h}}>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{mempool_8h}{neo/ledger/mempool.h}}>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{logger_8h}{neo/logging/logger.h}}>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{p2p__server_8h}{neo/network/p2p\_server.h}}>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{peer__discovery__service_8h}{neo/network/peer\_discovery\_service.h}}>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{rocksdb__store_8h}{neo/persistence/rocksdb\_store.h}}>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{protocol__settings_8h}{neo/protocol\_settings.h}}>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{rpc__server_8h}{neo/rpc/rpc\_server.h}}>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{application__engine_8h}{neo/smartcontract/application\_engine.h}}>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{gas__token_8h}{neo/smartcontract/native/gas\_token.h}}>}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{neo__token_8h}{neo/smartcontract/native/neo\_token.h}}>}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{policy__contract_8h}{neo/smartcontract/native/policy\_contract.h}}>}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{role__management_8h}{neo/smartcontract/native/role\_management.h}}>}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceneo_1_1node}{neo::node}}}
\DoxyCodeLine{00025\ \{}
\DoxyCodeLine{00032\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a7a71ae9f90b1c4049e27a6174e4cd82e}{NeoNode}}}
\DoxyCodeLine{00033\ \{}
\DoxyCodeLine{00034\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{comment}{//\ Core\ configuration}}
\DoxyCodeLine{00036\ \ \ \ \ std::shared\_ptr<ProtocolSettings>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a348ff6c7583ee830377044b38023807b}{protocolSettings\_}};}
\DoxyCodeLine{00037\ \ \ \ \ std::string\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a5267287a1895e0ce23653c40f98fd7c3}{configPath\_}};}
\DoxyCodeLine{00038\ \ \ \ \ std::string\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_aba0255559373bc21d77954c6f7468459}{dataPath\_}};}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{comment}{//\ Core\ blockchain\ components}}
\DoxyCodeLine{00041\ \ \ \ \ std::shared\_ptr<persistence::LevelDBStore>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a84b8f96f8ef6fa9f4ca586c3c0bdd97b}{store\_}};}
\DoxyCodeLine{00042\ \ \ \ \ std::shared\_ptr<ledger::Blockchain>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_ac5701dcbb4a6f728adcd9d15ed3aa381}{blockchain\_}};}
\DoxyCodeLine{00043\ \ \ \ \ std::shared\_ptr<ledger::MemoryPool>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_ad25eb4bb099836d6ed232b7c3bd97742}{memoryPool\_}};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{comment}{//\ Network\ layer}}
\DoxyCodeLine{00046\ \ \ \ \ std::shared\_ptr<network::P2PServer>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_aa2b492b0b5173b4d4789d35f3aee8380}{p2pServer\_}};}
\DoxyCodeLine{00047\ \ \ \ \ std::shared\_ptr<network::PeerDiscoveryService>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a463a92a47b8b5bb999b6b48f74b97fb5}{peerDiscovery\_}};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{comment}{//\ Smart\ contract\ system}}
\DoxyCodeLine{00050\ \ \ \ \ std::shared\_ptr<smartcontract::ApplicationEngine>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_ad16cc8374ea9b41058de4e42e5e80b93}{applicationEngine\_}};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{comment}{//\ Native\ contracts}}
\DoxyCodeLine{00053\ \ \ \ \ std::shared\_ptr<smartcontract::native::GasToken>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_ac4b0a09e5a702a2162f4c171ec4bbca8}{gasToken\_}};}
\DoxyCodeLine{00054\ \ \ \ \ std::shared\_ptr<smartcontract::native::NeoToken>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_ab61c785d1b340cf009434efe6afeca60}{neoToken\_}};}
\DoxyCodeLine{00055\ \ \ \ \ std::shared\_ptr<smartcontract::native::PolicyContract>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a35eb3c8140858fd8aa823956193c6a0f}{policyContract\_}};}
\DoxyCodeLine{00056\ \ \ \ \ std::shared\_ptr<smartcontract::native::RoleManagement>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_ac26ff0be7ddceabf70a24c3d8a658f76}{roleManagement\_}};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{comment}{//\ RPC\ and\ API}}
\DoxyCodeLine{00059\ \ \ \ \ std::shared\_ptr<rpc::RpcServer>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a458f6a52622373a7afcbc5889d60444d}{rpcServer\_}};}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{comment}{//\ Consensus}}
\DoxyCodeLine{00062\ \ \ \ \ std::shared\_ptr<consensus::ConsensusService>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a12fb42488e2919e3a12651318087ef98}{consensusService\_}};}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{comment}{//\ Runtime\ state}}
\DoxyCodeLine{00065\ \ \ \ \ std::atomic<bool>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a31857308ea4ae20f063fb91e22352d3b}{running\_}};}
\DoxyCodeLine{00066\ \ \ \ \ std::atomic<bool>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a2bf38d6c71c75b74d71d25e28e516ec9}{shutdownRequested\_}};}
\DoxyCodeLine{00067\ \ \ \ \ std::thread\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_abcefded571ea5188d9a530423e14997e}{mainThread\_}};}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{comment}{//\ Logging}}
\DoxyCodeLine{00070\ \ \ \ \ std::shared\_ptr<logging::Logger>\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_ae868be20c14ce0eb1ab20624c3691f3d}{logger\_}};}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00078\ \ \ \ \ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a7a71ae9f90b1c4049e27a6174e4cd82e}{NeoNode}}(\textcolor{keyword}{const}\ std::string\&\ configPath\ =\ \textcolor{stringliteral}{"{}config.json"{}},\ \textcolor{keyword}{const}\ std::string\&\ dataPath\ =\ \textcolor{stringliteral}{"{}./data"{}});}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00083\ \ \ \ \ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a4a6d1464461fb7da78c31116123a8e1a}{\string~NeoNode}}();}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_ada2db264ad69a12be30d0ce60506242e}{Initialize}}();}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a686508e49f9f14595e6a4a6cd941455b}{Start}}();}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a5c1d9821607e40a00bcec5afd658309f}{Stop}}();}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_abfd412d36409fe4ab4c07c94ebfb7a40}{IsRunning}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00112\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a29eafd45b6d0908a7449bd7f72d880b2}{GetBlockHeight}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a934c761a0567eb097ef40f22e322f03e}{GetConnectedPeersCount}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a921dcff6357f4bfbb82023ef102c7d9e}{GetMemoryPoolCount}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{comment}{//\ Initialization\ methods\ (implemented\ in\ neo\_node\_initialization.cpp)}}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a0cd6a113a49af8fa58f8b82b52823639}{InitializeLogging}}();}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a7d520d1217f14fda80dd7a6a82aabdc9}{LoadProtocolSettings}}();}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a9d155d87a7711d49e8e9834a586162ac}{InitializeStorage}}();}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_ad5b866d97b6b8335afdc9a3fa0ea0a89}{InitializeBlockchain}}();}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a7e80ad63902f083de8651e0169dbf9c9}{InitializeSmartContracts}}();}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a5be1217ffb5e8558f315baddc73e2984}{InitializeNetwork}}();}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a684e3ba11206cc611d077450ccac4076}{InitializeRPC}}();}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_ad7a32d630554c49b79e8027edc62ed7d}{InitializeConsensus}}();}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{comment}{//\ Processing\ methods\ (implemented\ in\ neo\_node\_processing.cpp)}}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a80dfc8ed5a925900b10144a6b67725e9}{MainLoop}}();}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a744c23be13a9a502d62200ef3d4cca54}{ProcessBlockchain}}();}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a35f4c823fb871738f9b156775e4f102f}{ProcessMemoryPool}}();}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a412d4529d0f9abe5a058a35cc71154d0}{ProcessNetwork}}();}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a29ff20be8d50492649e85502d8be6bef}{ReportStatus}}();}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classneo_1_1node_1_1_neo_node_a39b0c343110897add1ca8b3a9f23fd97}{GetMemoryUsage}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00144\ \};}
\DoxyCodeLine{00145\ \}\ \ \textcolor{comment}{//\ namespace\ neo::node}}

\end{DoxyCode}
