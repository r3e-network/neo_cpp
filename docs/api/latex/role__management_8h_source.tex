\doxysection{role\+\_\+management.\+h}
\hypertarget{role__management_8h_source}{}\label{role__management_8h_source}\index{include/neo/smartcontract/native/role\_management.h@{include/neo/smartcontract/native/role\_management.h}}
\mbox{\hyperlink{role__management_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{ecpoint_8h}{neo/cryptography/ecc/ecpoint.h}}>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{binary__reader_8h}{neo/io/binary\_reader.h}}>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{binary__writer_8h}{neo/io/binary\_writer.h}}>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{persistence_2storage__item_8h}{neo/persistence/storage\_item.h}}>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{persistence_2storage__key_8h}{neo/persistence/storage\_key.h}}>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{native_2native__contract_8h}{neo/smartcontract/native/native\_contract.h}}>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native}{neo::smartcontract::native}}}
\DoxyCodeLine{00016\ \{}
\DoxyCodeLine{00020\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_af98732b0f34a921769590f9fb97d2867}{Role}}\ :\ uint8\_t}
\DoxyCodeLine{00021\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_af98732b0f34a921769590f9fb97d2867abf1361dc08fb32739598decb4fd59013}{StateValidator}}\ =\ 4,}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_af98732b0f34a921769590f9fb97d2867a30162ed78b6c10f731411f2fc440c24f}{Oracle}}\ =\ 8,}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00035\ \ \ \ \ \mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_af98732b0f34a921769590f9fb97d2867a908b5e5139719c37ae9290d0231c62fc}{NeoFSAlphabetNode}}\ =\ 16,}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_af98732b0f34a921769590f9fb97d2867a5843b77ed05c8b061e5116157ee33bf6}{P2PNotary}}\ =\ 32}
\DoxyCodeLine{00041\ \};}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00046\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_node_list_a9312ba4d6ab183fd4d329bf2763bbcc2}{NodeList}}}
\DoxyCodeLine{00047\ \{}
\DoxyCodeLine{00048\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_node_list_a9312ba4d6ab183fd4d329bf2763bbcc2}{NodeList}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_node_list_aa6f980075242968cdab7cc7f6e156455}{Add}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classneo_1_1cryptography_1_1ecc_1_1_e_c_point}{cryptography::ecc::ECPoint}}\&\ \mbox{\hyperlink{namespaceneo_1_1node}{node}});}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_node_list_a2f2330978e7c8c9984f03c408ad2cea3}{AddRange}}(\textcolor{keyword}{const}\ std::vector<cryptography::ecc::ECPoint>\&\ nodes);}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_node_list_ad6a98a94ab20c58bb95c7462ef749386}{Sort}}();}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00075\ \ \ \ \ std::vector<cryptography::ecc::ECPoint>\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_node_list_adf8b507fb90baa408ea47b352510f976}{ToArray}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_node_list_a4e19adc7ddc840e41c102a77845dde64}{Serialize}}(\mbox{\hyperlink{classneo_1_1io_1_1_binary_writer}{io::BinaryWriter}}\&\ writer)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_node_list_a4d391f7dc08813d287a1ebf61e78df6d}{Deserialize}}(\mbox{\hyperlink{classneo_1_1io_1_1_binary_reader}{io::BinaryReader}}\&\ reader);}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00090\ \ \ \ \ std::vector<cryptography::ecc::ECPoint>\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_node_list_a5baedfd1d007f62433eb1e4163dc9bac}{nodes\_}};}
\DoxyCodeLine{00091\ \};}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00096\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_a55f385c6ceffc5d68a9ee49063e1b9e5}{RoleManagement}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_native_contract_a60667ade06e1b9a3c3ef7e2c6a68a632}{NativeContract}}}
\DoxyCodeLine{00097\ \{}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{comment}{//\ Friend\ classes\ for\ testing}}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_a42ea0ca50925a8d114e2eb1370923f22}{NativeContractTest}};}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_af2ba12053996cf368cd80493e87f2ec1}{RoleManagementTest}};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int32\_t\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_afe2a59fb0073a3bdfa07feeb080dbc7a}{ID}}\ =\ -\/8;}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_a47f8f0ce7c3c3bb2774cca8f2203b6da}{NAME}}\ =\ \textcolor{stringliteral}{"{}RoleManagement"{}};}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ uint8\_t\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_aa6808bb34c85a9a8d0a8722ee15514ad}{PREFIX\_ROLE}}\ =\ 33;}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_af98732b0f34a921769590f9fb97d2867}{Role}}\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_ace81afc9fc95d8e37e534b139c8475da}{ROLE\_STATE\_COMMITTEE}}\ =\ \mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_af98732b0f34a921769590f9fb97d2867abf1361dc08fb32739598decb4fd59013}{Role::StateValidator}};}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_af98732b0f34a921769590f9fb97d2867}{Role}}\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_a075efaa365d8f9183817c98cfaa18109}{ROLE\_STATE\_VALIDATOR}}\ =\ \mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_af98732b0f34a921769590f9fb97d2867abf1361dc08fb32739598decb4fd59013}{Role::StateValidator}};}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00131\ \ \ \ \ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_a55f385c6ceffc5d68a9ee49063e1b9e5}{RoleManagement}}();}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keyword}{static}\ std::shared\_ptr<RoleManagement>\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_aee152ede5f087bb9b7d7f95e660de811}{GetInstance}}();}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00146\ \ \ \ \ std::vector<cryptography::ecc::ECPoint>\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_a88f9123d65182e86557fc66e4ee0db7e}{GetDesignatedByRole}}(std::shared\_ptr<persistence::StoreView>\ snapshot,}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_af98732b0f34a921769590f9fb97d2867}{Role}}\ role,\ uint32\_t\ index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_a0051ab01a9362515bd1bf7f2970395ca}{DesignateAsRole}}(\mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_a560d77ac749a6b1a12b6a680551a4460}{ApplicationEngine}}\&\ engine,\ \mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_af98732b0f34a921769590f9fb97d2867}{Role}}\ role,\ \textcolor{keyword}{const}\ std::vector<cryptography::ecc::ECPoint>\&\ nodes);}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00162\ \ \ \ \ \mbox{\hyperlink{classneo_1_1persistence_1_1_storage_key}{persistence::StorageKey}}\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_a7b9d0c964ffaf9e62e2f37bc15d7acbe}{CreateStorageKey}}(uint8\_t\ role)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00170\ \ \ \ \ \mbox{\hyperlink{classneo_1_1persistence_1_1_storage_key}{persistence::StorageKey}}\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_a7b9d0c964ffaf9e62e2f37bc15d7acbe}{CreateStorageKey}}(uint8\_t\ role,\ uint32\_t\ index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_ad3490b7634eb70d18d0ecb1331836b7f}{CheckCommittee}}(\mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_a560d77ac749a6b1a12b6a680551a4460}{ApplicationEngine}}\&\ engine)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_abc30246b54532f8607031b380f3893eb}{InitializeContract}}(\mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_a560d77ac749a6b1a12b6a680551a4460}{ApplicationEngine}}\&\ engine,\ uint32\_t\ hardfork);}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceneo_1_1smartcontract_a61c53f3faf65ba2bb911c462510be460a0be127da4aa5d9457320f86ac56a213d}{OnPersist}}(\mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_a560d77ac749a6b1a12b6a680551a4460}{ApplicationEngine}}\&\ engine);}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceneo_1_1smartcontract_a61c53f3faf65ba2bb911c462510be460a14fc0d4444079c6efd0036ffc5ef562c}{PostPersist}}(\mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_a560d77ac749a6b1a12b6a680551a4460}{ApplicationEngine}}\&\ engine);}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_ab31216a50169be5f476b8742ce54fa61}{Initialize}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00214\ \ \ \ \ std::shared\_ptr<vm::StackItem>\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_a6818d021732d4cd8f74dedf9599f94fb}{OnGetDesignatedByRole}}(\mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_a560d77ac749a6b1a12b6a680551a4460}{ApplicationEngine}}\&\ engine,}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<std::shared\_ptr<vm::StackItem>>\&\ args);}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00223\ \ \ \ \ std::shared\_ptr<vm::StackItem>\ \mbox{\hyperlink{classneo_1_1smartcontract_1_1native_1_1_role_management_afd8311a6b935b8835627d1868c27e916}{OnDesignateAsRole}}(\mbox{\hyperlink{namespaceneo_1_1smartcontract_1_1native_a560d77ac749a6b1a12b6a680551a4460}{ApplicationEngine}}\&\ engine,}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<std::shared\_ptr<vm::StackItem>>\&\ args);}
\DoxyCodeLine{00225\ \};}
\DoxyCodeLine{00226\ \}\ \ \textcolor{comment}{//\ namespace\ neo::smartcontract::native}}

\end{DoxyCode}
