\doxysection{connection.\+h}
\hypertarget{connection_8h_source}{}\label{connection_8h_source}\index{include/neo/network/p2p/connection.h@{include/neo/network/p2p/connection.h}}
\mbox{\hyperlink{connection_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{io_2byte__vector_8h}{neo/io/byte\_vector.h}}>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{ip__endpoint_8h}{neo/network/ip\_endpoint.h}}>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{message_8h}{neo/network/p2p/message.h}}>}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceneo_1_1network_1_1p2p}{neo::network::p2p}}}
\DoxyCodeLine{00013\ \{}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ Forward\ declaration}}
\DoxyCodeLine{00015\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message}{Message}};}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_abbaa3d1a3313f798fbf91c2193f3d8cb}{Connection}}}
\DoxyCodeLine{00021\ \{}
\DoxyCodeLine{00022\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00026\ \ \ \ \ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_abbaa3d1a3313f798fbf91c2193f3d8cb}{Connection}}();}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a65eb2936b77107f3b0fdfb65ef136b2b}{\string~Connection}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_i_p_end_point}{IPEndPoint}}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a0040628ae8225db19c6534c4c81d3630}{GetRemoteEndPoint}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_i_p_end_point}{IPEndPoint}}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_ac092953c5db7d02ec069b80a6de6b7d3}{GetLocalEndPoint}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00049\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_aa754b916ed734a50cc951f49697c400f}{GetId}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00055\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_ab31d03671ed27f6946aa3a1e75807f88}{GetLastMessageReceived}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00061\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a970a73d9380dd552787e28950ae8c810}{GetLastMessageSent}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00067\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_aa289b63e4deec9c95a41339b1fa94fc7}{GetLastPingSent}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00073\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a5356a20fd8b4c04baf9b263c183a6c08}{GetLastPingReceived}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00079\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_ac09124caf46363e518ceb230c04179f8}{GetPingTime}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00085\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a38fc85af49780f7e05aad296b142c70f}{GetBytesSent}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00091\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a09bf252968496af51c99da508d69abe2}{GetBytesReceived}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00097\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a14f32d80f17175eb274d152932a3ef28}{GetMessagesSent}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00103\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a3f3d39d2eef1cd6fd4d60a543638030b}{GetMessagesReceived}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_af3f0297bc860a27a0f50a74a0ba1e4eb}{Send}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message}{Message}}\&\ message,\ \textcolor{keywordtype}{bool}\ enableCompression\ =\ \textcolor{keyword}{true})\ =\ 0;}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_acba0bb4104068cff928b8b15efb26722}{Disconnect}}()\ =\ 0;}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a8588c0291cd859b21eac916eabaf340f}{SetMessageReceivedCallback}}(std::function<\textcolor{keywordtype}{void}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message}{Message}}\&)>\ callback);}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a2bee7580ac90855e8f6d86b2f2a2f8a8}{SetDisconnectedCallback}}(std::function<\textcolor{keywordtype}{void}()>\ callback);}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a37462d9ca84fd7982e04e564761ec9ad}{UpdatePingTime}}(uint32\_t\ pingTime);}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_abd8fbf27b813438feb5291675006e2d4}{OnMessageReceived}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message}{Message}}\&\ message);}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_abf1fd278093a903e6111c68f6fc98161}{OnDisconnected}}();}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a6abdc25772eeb241701cfa23ba382e36}{UpdateLastMessageReceived}}();}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_acadd3723665461e30840529edc7c7ee3}{UpdateLastMessageSent}}();}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a882166a86cfced89345ff2fb9a806801}{UpdateLastPingSent}}();}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a748428f18c56e09d6dcf4c11e0b5ca64}{UpdateLastPingReceived}}();}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a9222aad0638aba991862f58053483e3a}{UpdateBytesSent}}(uint64\_t\ bytes);}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_afc523b5dc5f6f18512fb9551f1bd262c}{UpdateBytesReceived}}(uint64\_t\ bytes);}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a012f89c4d01693e697f2cedfe2c1410b}{UpdateMessagesSent}}();}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a01ab02f175e0e187c6772eef339e85c3}{UpdateMessagesReceived}}();}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00191\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a99e588d55412e7011428052aca9b9c30}{id\_}};}
\DoxyCodeLine{00192\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_ac7a2b89884b7d3c1c9fdfd81fbdf8949}{lastMessageReceived\_}};}
\DoxyCodeLine{00193\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_afdc172448b2bbaa7533a4d9985155f42}{lastMessageSent\_}};}
\DoxyCodeLine{00194\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a3b480a6b0451ca188644635aef9eb28e}{lastPingSent\_}};}
\DoxyCodeLine{00195\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a439579c6c9be6e4ea0577cab16f53fb0}{lastPingReceived\_}};}
\DoxyCodeLine{00196\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a2c63506147403a35d05ee6d8df0694ef}{pingTime\_}};}
\DoxyCodeLine{00197\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a61d11eaf85ed41d1d3e56b3f2bc5037d}{bytesSent\_}};}
\DoxyCodeLine{00198\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_acbd5ccd2a9c5b96af5679871b2e74e5b}{bytesReceived\_}};}
\DoxyCodeLine{00199\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a766e65e79470592f7878b38d0f971497}{messagesSent\_}};}
\DoxyCodeLine{00200\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a463cba19b277adebb93d8e6825ba7d02}{messagesReceived\_}};}
\DoxyCodeLine{00201\ \ \ \ \ std::function<void(\textcolor{keyword}{const}\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message}{Message}}\&)>\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_ab7b4da950f7e3c15de877fc6242827b9}{messageReceivedCallback\_}};}
\DoxyCodeLine{00202\ \ \ \ \ std::function<void()>\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_aba144a062b2b2190b0d154fa38f1cfdf}{disconnectedCallback\_}};}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{keyword}{static}\ uint32\_t\ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_connection_a53f979d121ccec0303b2e808fa276c17}{nextId\_}};}
\DoxyCodeLine{00205\ \};}
\DoxyCodeLine{00206\ \}\ \ \textcolor{comment}{//\ namespace\ neo::network::p2p}}

\end{DoxyCode}
