\doxysection{neo\+::network\+::p2p\+::Message\+Handler Class Reference}
\hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler}{}\label{classneo_1_1network_1_1p2p_1_1_message_handler}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}


\doxylink{classneo_1_1network_1_1p2p_1_1_message}{Message} handler for processing P2P messages.  




{\ttfamily \#include $<$connection\+\_\+manager.\+h$>$}

\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structneo_1_1network_1_1p2p_1_1_message_handler_1_1_queued_message}{Queued\+Message}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a5bdd49ea02260124a10edaec4bc55536}{Message\+Callback}} = std\+::function$<$void(const \mbox{\hyperlink{classneo_1_1io_1_1_u_int256}{io\+::\+UInt256}}\& peer\+\_\+id, const \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message}{Message}}\& message)$>$
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a4204d1638b654005f77e382fd55f6c40}{Message\+Handler}} ()
\item 
\mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_af05f48ebae945746a7f2a927681a7250}{\texorpdfstring{$\sim$}{\string~}\+Message\+Handler}} ()
\item 
void \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a33f43494cd80218a4e4dac7c491897c2}{Register\+Handler}} (Message\+Type type, \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a5bdd49ea02260124a10edaec4bc55536}{Message\+Callback}} callback)
\begin{DoxyCompactList}\small\item\em Register message handler. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a496a031afbc10da635a7cd70f6468ec9}{Process\+Message}} (const \mbox{\hyperlink{classneo_1_1io_1_1_u_int256}{io\+::\+UInt256}} \&peer\+\_\+id, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message}{Message}} $>$ message)
\begin{DoxyCompactList}\small\item\em Process incoming message. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a9648750cab112820da8d135c4d86f7b2}{Start}} ()
\begin{DoxyCompactList}\small\item\em Start message processing. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_aeae4a341257a0ec3a3560aeff5d5badf}{Stop}} ()
\begin{DoxyCompactList}\small\item\em Stop message processing. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a52255b2822e1697a813f93643989806d}{Processor\+Loop}} ()
\begin{DoxyCompactList}\small\item\em \doxylink{classneo_1_1network_1_1p2p_1_1_message}{Message} processor thread. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_aca106e983b01c22f35ab7bf690d01bb9}{Handle\+Message}} (const \mbox{\hyperlink{classneo_1_1io_1_1_u_int256}{io\+::\+UInt256}} \&peer\+\_\+id, const \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message}{Message}} \&message)
\begin{DoxyCompactList}\small\item\em Handle specific message. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a9a03dedec916b4e3b3be4bb17b0639b4}{Register\+Default\+Handlers}} ()
\begin{DoxyCompactList}\small\item\em Default handlers for core messages. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classneo_1_1core_1_1_logger}{core\+::\+Logger}} $>$ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a9ba1ac47cc2c98b3fdb1e8f9255f627c}{logger\+\_\+}}
\item 
std\+::unordered\+\_\+map$<$ Message\+Type, \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a5bdd49ea02260124a10edaec4bc55536}{Message\+Callback}} $>$ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a46506e19c49401d1986637a5c0b95b90}{handlers\+\_\+}}
\item 
std\+::mutex \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a434aec5980da75cae5d0746dda020289}{mutex\+\_\+}}
\item 
std\+::queue$<$ \mbox{\hyperlink{structneo_1_1network_1_1p2p_1_1_message_handler_1_1_queued_message}{Queued\+Message}} $>$ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a005953aa49c9b45dc6379fd98c5766c5}{message\+\_\+queue\+\_\+}}
\item 
std\+::condition\+\_\+variable \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a8ab87a5101bf8ea3358088f3456f70a4}{queue\+\_\+cv\+\_\+}}
\item 
std\+::thread \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a087d560988ed54f1a13114c7ca74dd7b}{processor\+\_\+thread\+\_\+}}
\item 
std\+::atomic$<$ bool $>$ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a2732b08d3262f505126561b1ede92bfa}{running\+\_\+}} \{false\}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{classneo_1_1network_1_1p2p_1_1_message}{Message} handler for processing P2P messages. 

\label{doc-typedef-members}
\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_doc-typedef-members}
\doxysubsection{Member Typedef Documentation}
\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_a5bdd49ea02260124a10edaec4bc55536}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!MessageCallback@{MessageCallback}}
\index{MessageCallback@{MessageCallback}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{MessageCallback}{MessageCallback}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_a5bdd49ea02260124a10edaec4bc55536} 
using \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a5bdd49ea02260124a10edaec4bc55536}{neo\+::network\+::p2p\+::\+Message\+Handler\+::\+Message\+Callback}} = std\+::function$<$void(const \mbox{\hyperlink{classneo_1_1io_1_1_u_int256}{io\+::\+UInt256}}\& peer\+\_\+id, const \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message}{Message}}\& message)$>$}



\label{doc-constructors}
\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_a4204d1638b654005f77e382fd55f6c40}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!MessageHandler@{MessageHandler}}
\index{MessageHandler@{MessageHandler}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{MessageHandler()}{MessageHandler()}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_a4204d1638b654005f77e382fd55f6c40} 
neo\+::network\+::p2p\+::\+Message\+Handler\+::\+Message\+Handler (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_af05f48ebae945746a7f2a927681a7250}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!````~MessageHandler@{\texorpdfstring{$\sim$}{\string~}MessageHandler}}
\index{````~MessageHandler@{\texorpdfstring{$\sim$}{\string~}MessageHandler}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}MessageHandler()}{\string~MessageHandler()}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_af05f48ebae945746a7f2a927681a7250} 
neo\+::network\+::p2p\+::\+Message\+Handler\+::\texorpdfstring{$\sim$}{\string~}\+Message\+Handler (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



\label{doc-func-members}
\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_aca106e983b01c22f35ab7bf690d01bb9}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!HandleMessage@{HandleMessage}}
\index{HandleMessage@{HandleMessage}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{HandleMessage()}{HandleMessage()}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_aca106e983b01c22f35ab7bf690d01bb9} 
void neo\+::network\+::p2p\+::\+Message\+Handler\+::\+Handle\+Message (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classneo_1_1io_1_1_u_int256}{io\+::\+UInt256}} \&}]{peer\+\_\+id}{, }\item[{const \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message}{Message}} \&}]{message}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Handle specific message. 

\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_a496a031afbc10da635a7cd70f6468ec9}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!ProcessMessage@{ProcessMessage}}
\index{ProcessMessage@{ProcessMessage}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{ProcessMessage()}{ProcessMessage()}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_a496a031afbc10da635a7cd70f6468ec9} 
void neo\+::network\+::p2p\+::\+Message\+Handler\+::\+Process\+Message (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classneo_1_1io_1_1_u_int256}{io\+::\+UInt256}} \&}]{peer\+\_\+id}{, }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message}{Message}} $>$}]{message}{}\end{DoxyParamCaption})}



Process incoming message. 

\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_a52255b2822e1697a813f93643989806d}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!ProcessorLoop@{ProcessorLoop}}
\index{ProcessorLoop@{ProcessorLoop}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{ProcessorLoop()}{ProcessorLoop()}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_a52255b2822e1697a813f93643989806d} 
void neo\+::network\+::p2p\+::\+Message\+Handler\+::\+Processor\+Loop (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



\doxylink{classneo_1_1network_1_1p2p_1_1_message}{Message} processor thread. 

\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_a9a03dedec916b4e3b3be4bb17b0639b4}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!RegisterDefaultHandlers@{RegisterDefaultHandlers}}
\index{RegisterDefaultHandlers@{RegisterDefaultHandlers}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{RegisterDefaultHandlers()}{RegisterDefaultHandlers()}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_a9a03dedec916b4e3b3be4bb17b0639b4} 
void neo\+::network\+::p2p\+::\+Message\+Handler\+::\+Register\+Default\+Handlers (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Default handlers for core messages. 

\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_a33f43494cd80218a4e4dac7c491897c2}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!RegisterHandler@{RegisterHandler}}
\index{RegisterHandler@{RegisterHandler}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{RegisterHandler()}{RegisterHandler()}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_a33f43494cd80218a4e4dac7c491897c2} 
void neo\+::network\+::p2p\+::\+Message\+Handler\+::\+Register\+Handler (\begin{DoxyParamCaption}\item[{Message\+Type}]{type}{, }\item[{\mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a5bdd49ea02260124a10edaec4bc55536}{Message\+Callback}}}]{callback}{}\end{DoxyParamCaption})}



Register message handler. 

\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_a9648750cab112820da8d135c4d86f7b2}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!Start@{Start}}
\index{Start@{Start}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{Start()}{Start()}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_a9648750cab112820da8d135c4d86f7b2} 
void neo\+::network\+::p2p\+::\+Message\+Handler\+::\+Start (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Start message processing. 

\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_aeae4a341257a0ec3a3560aeff5d5badf}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!Stop@{Stop}}
\index{Stop@{Stop}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{Stop()}{Stop()}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_aeae4a341257a0ec3a3560aeff5d5badf} 
void neo\+::network\+::p2p\+::\+Message\+Handler\+::\+Stop (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Stop message processing. 



\label{doc-variable-members}
\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_doc-variable-members}
\doxysubsection{Member Data Documentation}
\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_a46506e19c49401d1986637a5c0b95b90}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!handlers\_@{handlers\_}}
\index{handlers\_@{handlers\_}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{handlers\_}{handlers\_}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_a46506e19c49401d1986637a5c0b95b90} 
std\+::unordered\+\_\+map$<$Message\+Type, \mbox{\hyperlink{classneo_1_1network_1_1p2p_1_1_message_handler_a5bdd49ea02260124a10edaec4bc55536}{Message\+Callback}}$>$ neo\+::network\+::p2p\+::\+Message\+Handler\+::handlers\+\_\+\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_a9ba1ac47cc2c98b3fdb1e8f9255f627c}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!logger\_@{logger\_}}
\index{logger\_@{logger\_}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{logger\_}{logger\_}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_a9ba1ac47cc2c98b3fdb1e8f9255f627c} 
std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classneo_1_1core_1_1_logger}{core\+::\+Logger}}$>$ neo\+::network\+::p2p\+::\+Message\+Handler\+::logger\+\_\+\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_a005953aa49c9b45dc6379fd98c5766c5}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!message\_queue\_@{message\_queue\_}}
\index{message\_queue\_@{message\_queue\_}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{message\_queue\_}{message\_queue\_}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_a005953aa49c9b45dc6379fd98c5766c5} 
std\+::queue$<$\mbox{\hyperlink{structneo_1_1network_1_1p2p_1_1_message_handler_1_1_queued_message}{Queued\+Message}}$>$ neo\+::network\+::p2p\+::\+Message\+Handler\+::message\+\_\+queue\+\_\+\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_a434aec5980da75cae5d0746dda020289}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!mutex\_@{mutex\_}}
\index{mutex\_@{mutex\_}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{mutex\_}{mutex\_}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_a434aec5980da75cae5d0746dda020289} 
std\+::mutex neo\+::network\+::p2p\+::\+Message\+Handler\+::mutex\+\_\+\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_a087d560988ed54f1a13114c7ca74dd7b}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!processor\_thread\_@{processor\_thread\_}}
\index{processor\_thread\_@{processor\_thread\_}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{processor\_thread\_}{processor\_thread\_}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_a087d560988ed54f1a13114c7ca74dd7b} 
std\+::thread neo\+::network\+::p2p\+::\+Message\+Handler\+::processor\+\_\+thread\+\_\+\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_a8ab87a5101bf8ea3358088f3456f70a4}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!queue\_cv\_@{queue\_cv\_}}
\index{queue\_cv\_@{queue\_cv\_}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{queue\_cv\_}{queue\_cv\_}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_a8ab87a5101bf8ea3358088f3456f70a4} 
std\+::condition\+\_\+variable neo\+::network\+::p2p\+::\+Message\+Handler\+::queue\+\_\+cv\+\_\+\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classneo_1_1network_1_1p2p_1_1_message_handler_a2732b08d3262f505126561b1ede92bfa}\index{neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}!running\_@{running\_}}
\index{running\_@{running\_}!neo::network::p2p::MessageHandler@{neo::network::p2p::MessageHandler}}
\doxysubsubsection{\texorpdfstring{running\_}{running\_}}
{\footnotesize\ttfamily \label{classneo_1_1network_1_1p2p_1_1_message_handler_a2732b08d3262f505126561b1ede92bfa} 
std\+::atomic$<$bool$>$ neo\+::network\+::p2p\+::\+Message\+Handler\+::running\+\_\+ \{false\}\hspace{0.3cm}{\ttfamily [private]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/neo/network/p2p/\mbox{\hyperlink{p2p_2connection__manager_8h}{connection\+\_\+manager.\+h}}\end{DoxyCompactItemize}
